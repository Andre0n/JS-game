const f=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}};f();const m=e=>{const i=document.createElement("canvas"),n=i.getContext("2d");return{element:i,context:n,setSize(o,t){this.element.width=o,this.element.height=t}}},r=(e=0,i=0)=>({x:e,y:i,add(n){return r(this.x+n.x,this.y+n.y)},dot(n){return this.x*n.x+this.y*n.y},length(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize(){let n=this.length();n!=0&&(this.x/=n,this.y/=n)},normalized(){return this.normalize(),this},scalar(n){return r(this.x*n,this.y*n)}}),p=(e,i,n,o)=>({radius:e,speed:i,color:n,position:o,velocity:r(),render(t){t.beginPath(),t.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI,0),t.fillStyle=this.color,t.shadowColor=this.color,t.fill(),t.closePath()}}),a={x:innerWidth/2,y:innerHeight/2},d={w:!1,a:!1,s:!1,d:!1},c=(()=>({isDown(e){return d[e]},setDown(e){d[e]=!0},setUp(e){d[e]=!1},setMousePositon(e,i){a.x=e,a.y=i},getMousePositon(e,i){return{x:a.x,y:a.y}}}))(),u=25,w=r(innerWidth/2-u,innerHeight/2-u),g=300,v="#FF0",h={w:r(0,-1),s:r(0,1),d:r(1,0),a:r(-1,0)},E=()=>{const e=p(u,g,v,w);return e.update=i=>{for(let n in h)c.isDown(n)&&(e.velocity=e.velocity.add(h[n]));e.velocity=e.velocity.normalized().scalar(e.speed),e.position=e.position.add(e.velocity.scalar(i)),e.velocity=r()},e.draw=i=>e.render(i),e},L=()=>{const e=E();return{player:e,update(i){e.update(i)},draw(i){i.clearRect(0,0,window.innerWidth,window.innerHeight),this.player.draw(i)}}},P=e=>c.setDown(e.key),x=e=>c.setUp(e.key),S=e=>{c.setMousePositon(e.clientX,e.clientY)};(function(){const i=document.querySelector("#app"),n=m(),o=L();let t=null;n.setSize(innerWidth,innerHeight),i.appendChild(n.element);const s=l=>{t===null&&(t=l);const y=(l-t)*.001;t=l,o.update(y),o.draw(n.context),window.requestAnimationFrame(s)};window.requestAnimationFrame(s),window.addEventListener("resize",l=>{n.setSize(innerWidth,innerHeight)}),document.addEventListener("keydown",P,!1),document.addEventListener("keyup",x,!1),document.addEventListener("mousemove",S,!1)})();
