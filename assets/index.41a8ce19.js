const y=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}};y();const f=e=>{const i=document.createElement("canvas"),n=i.getContext("2d");return{element:i,context:n,setSize(o,t){this.element.width=o,this.element.height=t}}},s=(e=0,i=0)=>({x:e,y:i,add(n){return s(this.x+n.x,this.y+n.y)},dot(n){return this.x*n.x+this.y*n.y},length(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize(){let n=this.length();n!=0&&(this.x/=n,this.y/=n)},normalized(){return this.normalize(),this},scalar(n){return s(this.x*n,this.y*n)}}),p=(e,i,n,o)=>({radius:e,speed:i,color:n,position:o,velocity:s(),render(t){t.beginPath(),t.fillStyle=this.color,t.shadowColor=this.color,t.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI,0),t.fill()}}),a={w:!1,a:!1,s:!1,d:!1},d=(()=>({isDown(e){return a[e]},setDown(e){a[e]=!0},setUp(e){a[e]=!1}}))(),c=25,w=s(window.innerWidth/2-c,window.innerHeight/2-c),m=300,g="#FF0",u={w:s(0,-1),s:s(0,1),d:s(1,0),a:s(-1,0)},v=()=>{const e=p(c,m,g,w);return e.update=i=>{for(let n in u)d.isDown(n)&&(e.velocity=e.velocity.add(u[n]));e.velocity=e.velocity.normalized().scalar(e.speed),e.position=e.position.add(e.velocity.scalar(i)),e.velocity=s()},e.draw=i=>e.render(i),e},E=()=>{const e=v();return{player:e,update(i){e.update(i)},draw(i){i.clearRect(0,0,window.innerWidth,window.innerHeight),this.player.draw(i)}}},L=e=>d.setDown(e.key),P=e=>d.setUp(e.key);(function(){const i=document.querySelector("#app"),n=f(),o=E();let t=null;n.setSize(window.innerWidth,window.innerHeight),i.appendChild(n.element);const r=l=>{t===null&&(t=l);const h=(l-t)*.001;t=l,o.update(h),o.draw(n.context),window.requestAnimationFrame(r)};window.requestAnimationFrame(r),window.addEventListener("resize",l=>{n.setSize(window.innerWidth,window.innerHeight)}),document.addEventListener("keydown",L,!1),document.addEventListener("keyup",P,!1)})();
